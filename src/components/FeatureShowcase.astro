---
import PhoneMockup from './ui/PhoneMockup.astro';
import ChatBubble from './ui/ChatBubble.astro';

const features = [
  {
    title: 'Registro de gastos',
    subtitle: 'Tan fÃ¡cil como enviar un mensaje',
    description: 'Texto, voz o fotos de boletas. Gastify entiende todo y lo clasifica al instante.',
    mockupId: 'expense',
  },
  {
    title: 'Presupuesto mensual',
    subtitle: 'Nunca mÃ¡s te pases del presupuesto',
    description: 'Define tu lÃ­mite y recibe alertas automÃ¡ticas al 80% y 100% de tu presupuesto.',
    mockupId: 'budget',
  },
  {
    title: 'ResÃºmenes con IA',
    subtitle: 'Entiende tus finanzas sin esfuerzo',
    description: 'ResÃºmenes diarios, semanales y mensuales con anÃ¡lisis inteligente de tus hÃ¡bitos.',
    mockupId: 'summary',
  },
  {
    title: 'Recordatorios',
    subtitle: 'Nunca mÃ¡s olvides un pago',
    description: 'Crea recordatorios con lenguaje natural. Soporta recurrencia diaria, semanal y mensual.',
    mockupId: 'reminder',
  },
];
---

<section class="py-24">
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <div class="text-center fade-up">
      <h2 class="text-3xl font-bold text-white sm:text-4xl">Todo lo que necesitas</h2>
      <p class="mt-4 text-lg text-gray-400">Sin apps que instalar. Sin complicaciones.</p>
    </div>

    <div class="mt-20 flex flex-col gap-32">
      {features.map((feature, i) => (
        <div class:list={['fade-up flex flex-col items-center gap-12 lg:flex-row lg:gap-20', i % 2 === 1 && 'lg:flex-row-reverse']}>
          <!-- Text -->
          <div class="flex-1 text-center lg:text-left">
            <span class="text-sm font-semibold uppercase tracking-wider text-teal">{feature.title}</span>
            <h3 class="mt-3 text-2xl font-bold text-white sm:text-3xl">{feature.subtitle}</h3>
            <p class="mt-4 text-lg text-gray-400">{feature.description}</p>
          </div>

          <!-- Phone mockup -->
          <div class="flex-1">
            {feature.mockupId === 'expense' && (
              <PhoneMockup>
                <ChatBubble sender="user" time="09:15">bencina 30k</ChatBubble>
                <ChatBubble sender="bot" time="09:15">
                  <p class="font-semibold text-teal-light">Gasto registrado</p>
                  <p class="mt-1">ğŸš— Transporte â€” $30.000</p>
                </ChatBubble>
                <ChatBubble sender="user" time="09:20">ğŸ¤ <span class="italic text-gray-300">Audio: "gaste doce mil en la farmacia"</span></ChatBubble>
                <ChatBubble sender="bot" time="09:20">
                  <p class="font-semibold text-teal-light">Gasto registrado</p>
                  <p class="mt-1">ğŸ’Š Salud â€” $12.000</p>
                </ChatBubble>
              </PhoneMockup>
            )}
            {feature.mockupId === 'budget' && (
              <PhoneMockup>
                <ChatBubble sender="user" time="10:00">presupuesto 500000</ChatBubble>
                <ChatBubble sender="bot" time="10:00">
                  <p class="font-semibold text-teal-light">Presupuesto actualizado</p>
                  <p class="mt-1">ğŸ“Š Tu presupuesto mensual es $500.000</p>
                </ChatBubble>
                <ChatBubble sender="bot" time="18:00">
                  <p class="font-semibold text-yellow-400">âš ï¸ Alerta de presupuesto</p>
                  <p class="mt-1">Llevas $400.000 (80%) de tu presupuesto de $500.000</p>
                </ChatBubble>
              </PhoneMockup>
            )}
            {feature.mockupId === 'summary' && (
              <PhoneMockup>
                <ChatBubble sender="bot" time="21:00">
                  <p class="font-semibold text-teal-light">ğŸ“‹ Resumen del dÃ­a</p>
                  <p class="mt-2">ğŸš— Transporte: $6.500</p>
                  <p>ğŸ• Restaurantes: $8.000</p>
                  <p>ğŸ›’ Supermercado: $45.000</p>
                  <p class="mt-2 border-t border-gray-600 pt-2 font-semibold">Total: $59.500</p>
                </ChatBubble>
                <ChatBubble sender="user" time="21:01">en quÃ© mÃ¡s gasto este mes?</ChatBubble>
                <ChatBubble sender="bot" time="21:01">
                  <p>Tu categorÃ­a mÃ¡s alta es ğŸ›’ Supermercado con un 45% del total.</p>
                </ChatBubble>
              </PhoneMockup>
            )}
            {feature.mockupId === 'reminder' && (
              <PhoneMockup>
                <ChatBubble sender="user" time="11:00">recordarme pagar internet el 5 de cada mes</ChatBubble>
                <ChatBubble sender="bot" time="11:00">
                  <p class="font-semibold text-teal-light">Recordatorio creado</p>
                  <p class="mt-1">ğŸ”” Pagar internet</p>
                  <p class="text-[11px] text-gray-400">Mensual â€” dÃ­a 5 a las 10:00</p>
                </ChatBubble>
                <ChatBubble sender="bot" time="05/03">
                  <p class="font-semibold text-teal-light">â° Recordatorio</p>
                  <p class="mt-1">Hoy toca pagar internet. No lo olvides!</p>
                </ChatBubble>
              </PhoneMockup>
            )}
          </div>
        </div>
      ))}
    </div>
  </div>
</section>
